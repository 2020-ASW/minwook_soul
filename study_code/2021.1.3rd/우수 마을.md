# ğŸ“• Solution

## :memo: ë¬¸ì œ ì„¤ëª…

1. Nê°œì˜ ë§ˆì„ë¡œ ì´ë£¨ì–´ì§„ ë‚˜ë¼ê°€ ìˆê³  íŠ¸ë¦¬(Tree) êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.
2. N - 1ê°œì˜ ê°„ì„ ìœ¼ë¡œ ì´ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.
3. ìš°ìˆ˜ ë§ˆì„ì„ í•´ë‹¹ ì¡°ê±´ì— ë§ê²Œ ì„ ì •í•©ë‹ˆë‹¤. </br> **1.** 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •ëœ ë§ˆì„ ì£¼ë¯¼ ìˆ˜ì˜ ì´ í•©ì„ ìµœëŒ€ë¡œ í•´ì•¼ í•œë‹¤. </br> **2.** ë§ˆì„ ì‚¬ì´ì˜ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ, ë§Œì¼ ë‘ ë§ˆì„ì´ ì¸ì ‘í•´ ìˆìœ¼ë©´ ë‘ ë§ˆì„ì„ ëª¨ë‘ 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •í•  ìˆ˜ëŠ” ì—†ë‹¤. ì¦‰ 'ìš°ìˆ˜ ë§ˆì„'ë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•´ ìˆì„ ìˆ˜ ì—†ë‹¤. </br> **3.** ì„ ì •ë˜ì§€ ëª»í•œ ë§ˆì„ì— ê²½ê°ì‹¬ì„ ë¶ˆëŸ¬ì¼ìœ¼í‚¤ê¸° ìœ„í•´ì„œ, 'ìš°ìˆ˜ ë§ˆì„'ë¡œ ì„ ì •ë˜ì§€ ëª»í•œ ë§ˆì„ì€ ì ì–´ë„ í•˜ë‚˜ì˜ 'ìš°ìˆ˜ ë§ˆì„'ê³¼ëŠ” ì¸ì ‘í•´ ìˆì–´ì•¼ í•œë‹¤.

4. 'ìš°ìˆ˜ ë§ˆì„'ì˜ ì£¼ë¯¼ ìˆ˜ì˜ ìµœëŒ“ê°’ì„ returní•©ë‹ˆë‹¤.

## ğŸ‘» ì ‘ê·¼ ë°©ì‹

1. treeêµ¬ì¡°ë¥¼ ë§Œë“¤ê³ , childë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šì€ leafnodeë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
2. leafnodeë§Œ dfsë¥¼ ì ìš©í•˜ë©´ì„œ í•´ë‹¹ ì¡°ê±´ì— ë§ê²Œ `visited[][]`ë¥¼ ì ìš©í•©ë‹ˆë‹¤.
3. `visited[n][0]`ì€ í•´ë‹¹ nodeê°€ ìš°ìˆ˜ ë§ˆì„ì´ ì•„ë‹Œ ê²½ìš°ì˜ ìµœëŒ“ê°’ì„ ì €ì¥í•˜ê³ ,</br>`visited[n][1]`ì€ í•´ë‹¹ nodeê°€ ìš°ìˆ˜ ë§ˆì„ì¸ ê²½ìš°ì˜ ìµœëŒ“ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤. </br> **1.** í•´ë‹¹ nodeì—ì„œ childnodeê°€ 0ê°œì¸ ê²½ìš°, `visited[n][0]`ì„ 0ìœ¼ë¡œ, `visited[n][1]`ì„ í•´ë‹¹ ë…¸ë“œì˜ ì£¼ë¯¼ ìˆ˜ë¡œ ì ìš©í•©ë‹ˆë‹¤. </br> **2.** í•´ë‹¹ nodeì—ì„œ childnodeê°€ 1ê°œì¸ ê²½ìš°, `visited[n][0]`ì„ `visited[child][1]`ìœ¼ë¡œ, `visited[n][1]`ì„ `í•´ë‹¹ ë…¸ë“œì˜ ì£¼ë¯¼ ìˆ˜` + `visited[child][0]`ë¡œ ì ìš©í•©ë‹ˆë‹¤.</br> **3.** í•´ë‹¹ nodeì—ì„œ childnodeê°€ 2ê°œì¸ ê²½ìš°, `visited[n][0]`ì„ `visited[left][0]`ì™€ `visited[left][1]`ì˜ ìµœëŒ“ê°’ + `visited[right][0]`ì™€ `visited[right][1]`ì˜ ìµœëŒ“ê°’ìœ¼ë¡œ, `visited[n][1]`ì„ `í•´ë‹¹ ë…¸ë“œì˜ ì£¼ë¯¼ ìˆ˜` + `visited[left][0]` + `visited[right][0]`ë¡œ ì ìš©í•©ë‹ˆë‹¤.
4. ì´í›„ parent nodeë¡œ dfsë¥¼ ì ìš©í•©ë‹ˆë‹¤.
5. ë§Œì•½ parent nodeê°€ 0ì¸ ê²½ìš°, í•´ë‹¹ nodeê°€ rootì´ë¯€ë¡œ returní•©ë‹ˆë‹¤.

## âŒ Fail and ë¬¸ì œì 

1. TreeNodeë¥¼ ì„¤ì •í•  ë•Œ, childë¥¼ 2ê°œ ì´í•˜ë¡œ ê°€ì •í•´ë²„ë ¸ìŠµë‹ˆë‹¤.
2. ë‘ ê°œì˜ ì •ìˆ˜ê°’ì„ ì…ë ¥ì„ ë°›ì„ ë•Œ, ì‘ì€ ê°’ì„ parentìœ¼ë¡œ í° ê°’ì„ childë¡œ ê°€ëŠ” ê°„ì„ ì„ ê°€ì§„ë‹¤ëŠ” ê°€ì •ì„ ì„¸ì› ìŠµë‹ˆë‹¤.

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

class TreeNode {
    int data;
    int parent;
    int left;
    int right;
    // TreeNodeë¥¼ ì„¤ì •í•  ë•Œ, childë¥¼ 2ê°œ ì´í•˜ë¡œ ê°€ì •í•´ë²„ë¦° ë¶€ë¶„
    TreeNode(int data, int parent, int left, int right) {
        this.data = data;
        this.parent = parent;
        this.left = left;
        this.right = right;
    }
}

class Main {
    private static int root;
    private static TreeNode[] graph;
    private static int[][] visited;

    public static void dfs(int n) {
        TreeNode node = graph[n];
        int data = node.data;
        int left = node.left;
        int right = node.right;
        int parent = node.parent;
        if (left == 0 && right == 0) { // leafnodeì¸ ê²½ìš°
            visited[n][0] = 0;
            visited[n][1] = data;
        } else if (left != 0 && right != 0) { // í•©í•´ì§€ëŠ” ë¶€ë¶„ì¸ ê²½ìš°
            int a = Math.max(visited[left][0] + visited[right][1], visited[left][1] + visited[right][0]);
            int b = Math.max(visited[left][0] + visited[right][0], visited[left][1] + visited[right][1]);
            visited[n][0] = Math.max(a, b);
            visited[n][1] = data + visited[left][0] + visited[right][0];
        } else if (left != 0 && right == 0) { // childnodeê°€ 1ê°œë°–ì— ì—†ëŠ” ê²½ìš°
            visited[n][0] = visited[left][1];
            visited[n][1] = data + visited[left][0];
        }
        if (parent == 0) {  // rootì¸ ê²½ìš°
            root = n;
            return;
        }
        dfs(parent);
    }

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        visited = new int[N + 1][2]; // 0ì€ ìš°ìˆ˜ë§ˆì„ì´ ì•„ë‹Œ ê²½ìš°, 1ì€ ìš°ìˆ˜ë§ˆì„ì¸ ê²½ìš°
        graph = new TreeNode[N + 1];
        for (int i = 1; i <= N; i++) {
            graph[i] = new TreeNode(Integer.parseInt(st.nextToken()), 0, 0, 0);
        }
        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            if (a > b) {
                int temp = a;
                a = b;
                b = temp;
            }
            if (a < b) {
                graph[b].parent = a;
                if (graph[a].left == 0) {
                    graph[a].left = b;
                } else {
                    graph[a].right = b;
                }
            } else if (a == b) {
                graph[a].parent = b;
            }
            // ë‘ ê°œì˜ ì •ìˆ˜ê°’ì„ ì…ë ¥ì„ ë°›ì„ ë•Œ, ì‘ì€ ê°’ì„ parentìœ¼ë¡œ
            // í° ê°’ì„ childë¡œ ê°€ëŠ” ê°„ì„ ì„ ê°€ì§„ë‹¤ê³  ìƒê°í•˜ê³  ì§  ë¶€ë¶„.
        }
        ArrayList<Integer> leafNode = new ArrayList<Integer>();
        for (int i = 1; i <= N; i++) {
            if (graph[i].left == 0 && graph[i].right == 0) {
                leafNode.add(i);
            } // leafnodeë§Œ ì°¾ëŠ” ë¶€ë¶„
        }
        for (Integer i : leafNode) {
            dfs(i);
        } } // leafnodeì—ì„œë§Œ dfsë¥¼ ì ìš©í•©ë‹ˆë‹¤.
        System.out.println(Math.max(visited[root][0], visited[root][1]));
        br.close();
    }
}
```

## ğŸ’ª í’€ì´ ë°©ë²•

1. graphêµ¬ì¡°ë¥¼ ë§Œë“¤ê³ , í•´ë‹¹ nodeì— ë§ê²Œ ê°„ì„ ìœ¼ë¡œ ì—°ê²°ëœ nodeë¥¼ list(=nextNode)ì— ë„£ì–´ì¤ë‹ˆë‹¤.
2. dfsë¥¼ ì ìš©í•˜ëŠ”ë°, í•´ë‹¹ nodeì— ë”°ë¥¸ nextNodeë¥¼ í™•ì¸í•˜ë©°, `dp[][]`ë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
3. ìš°ìˆ˜ë§ˆì„ì´ ì•„ë‹Œ ê²½ìš°ë¡œ, `dp[n][0] = 0;` ë¡œ, ìš°ìˆ˜ë§ˆì„ì¸ ê²½ìš°ì—” `dp[n][1] = node.data;` ë¡œ ì´ˆê¸°ê°’ì„ ê°±ì‹ í•©ë‹ˆë‹¤. ` visited[n] = true;`ë¡œ ê°±ì‹ í•©ë‹ˆë‹¤.
4. ë°©ë¬¸í•˜ì§€ ì•Šì€ node iì— ëŒ€í•´, `dp[n][0] += Math.max(dp[i][0], dp[i][1]);`, `dp[n][1] += dp[i][0];`ë¡œ ì ìš©í•©ë‹ˆë‹¤.
5. ë§Œì•½ nextNodeê°€ ë¹„ì–´ìˆìœ¼ë©´, returnì„ ë°˜í™˜í•©ë‹ˆë‹¤.

## ğŸ‘» About

## âœˆ Explain Code

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

class TreeNode {
    int data;
    ArrayList<Integer> nextNode;

    TreeNode(int data, ArrayList<Integer> nextNode) {
        this.data = data;
        this.nextNode = new ArrayList<Integer>();
    }
}

class Main {
    private static TreeNode[] graph;
    private static boolean[] visited;
    private static int[][] dp;

    public static void dfs(int n) {
        TreeNode node = graph[n];
        dp[n][0] = 0; // 0ì€ ìš°ìˆ˜ë§ˆì„ì´ ì•„ë‹Œ ê²½ìš°
        dp[n][1] = node.data; // 1ì€ ìš°ìˆ˜ë§ˆì„ì¸ ê²½ìš°
        visited[n] = true;
        if (node.nextNode.isEmpty()) {
            return;
        } // nextNodeê°€ ë¹„ì–´ìˆìœ¼ë©´, returnì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        for (Integer i : node.nextNode) {
            if (visited[i])
                continue; // ë°©ë¬¸í•œ ë…¸ë“œëŠ” ë„˜ê¹ë‹ˆë‹¤.
            dfs(i);
            dp[n][0] += Math.max(dp[i][0], dp[i][1]);
            dp[n][1] += dp[i][0];
            // ì¸ì ‘í•œ ë…¸ë“œ iì— ë”°ë¥¸ ê°’ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.
        }
    }

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        visited = new boolean[N + 1];
        dp = new int[N + 1][2]; // 0ì€ ìš°ìˆ˜ë§ˆì„ì´ ì•„ë‹Œ ê²½ìš°, 1ì€ ìš°ìˆ˜ë§ˆì„ì¸ ê²½ìš°
        graph = new TreeNode[N + 1];
        for (int i = 1; i <= N; i++) {
            graph[i] = new TreeNode(Integer.parseInt(st.nextToken()), new ArrayList<Integer>());
        } // graph init
        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            graph[a].nextNode.add(b);
            graph[b].nextNode.add(a);
        } // graphê°’ add
        dfs(1);
        System.out.println(Math.max(dp[1][0], dp[1][1]));
        br.close();
    }
}
```

## âœˆ Source Code

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

class TreeNode {
    int data;
    ArrayList<Integer> nextNode;

    TreeNode(int data, ArrayList<Integer> nextNode) {
        this.data = data;
        this.nextNode = new ArrayList<Integer>();
    }
}

class Main {
    private static TreeNode[] graph;
    private static boolean[] visited;
    private static int[][] dp;

    public static void dfs(int n) {
        TreeNode node = graph[n];
        dp[n][0] = 0;
        dp[n][1] = node.data;
        visited[n] = true;
        if (node.nextNode.isEmpty()) {
            return;
        }
        for (Integer i : node.nextNode) {
            if (visited[i])
                continue;
            dfs(i);
            dp[n][0] += Math.max(dp[i][0], dp[i][1]);
            dp[n][1] += dp[i][0];
        }
    }

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        visited = new boolean[N + 1];
        dp = new int[N + 1][2];
        graph = new TreeNode[N + 1];
        for (int i = 1; i <= N; i++) {
            graph[i] = new TreeNode(Integer.parseInt(st.nextToken()), new ArrayList<Integer>());
        }
        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            graph[a].nextNode.add(b);
            graph[b].nextNode.add(a);
        }
        dfs(1);
        System.out.println(Math.max(dp[1][0], dp[1][1]));
        br.close();
    }
}
```

## âœ” íšŒê³ 

tree êµ¬ì¡°ëŠ” í•­ìƒ childë¥¼ 2ê°œ ì´í•˜ë¡œ ê°€ì§€ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤!ğŸ˜‘ğŸ˜‘

**ë‹¤ì‹  ì‹¤ìˆ˜í•˜ì§€ ë§ì!ğŸ™ğŸ»**
